{"name":"FamilySearch Python SDK","tagline":"WIP Python SDK for FamilySearch","body":"## So, you want to know how to use this SDK?\r\nHere is some sample documentation for basic usage.\r\n\r\nThese sample lines should work from either the interactive interpreter or a script.\r\n\r\n\r\n###Initial setup\r\n\r\n```Python\r\n>>> from familysearch import FamilySearch\r\n>>> app_key = \"MY-MAGIC-DEV-KEY-THAT-ALLOWS-FAMILY-SEARCH-ACCESS\" # You didn't think I'd give you a free one, now did you?\r\n>>> user_agent = \"MyApp/VersionNumber\"\r\n>>> fs_address = \"https://sandbox.familysearch.org\"\r\n>>> fs = Familysearch(user_agent, app_key, base=fs_address)\r\n```\r\nAs a side note: I left the FamilySearch base configurable so that, if there is a need to change it to, say, \"https://deployment.familysearch.org\" (which has happened, and this used to be a temporary sandbox upgrade address), it is available, and won't require any additional tweaking in the SDK itself.\r\n\r\n### Logging in\r\n\r\n#### Desktop login\r\n\r\nThe UN/PW login method is recommended for desktop clients, and is, in fact, required for certification.\r\n\r\n```Python\r\n>>> try:\r\n...     input = raw_input\r\n... except:\r\n...     pass\r\n>>> from getpass import getpass\r\n>>> fs.login(input(\"Username: \"), getpass())\r\n```\r\n\r\n#### Desktop OAuth login\r\n\r\nConvenience function to log into FamilySearch by opening a Web browser and logging in through OAuth login.\r\nNot recommended for production applications, as it will not pass certification.\r\n\r\nIf you still choose to use this method (for testing purposes), the default callback URI is \"http://localhost:63342/fslogin\".\r\n```Python\r\n>>> fs.oauth_desktop_login()\r\n```\r\n#### OAuth access code login\r\n\r\nOAuth is the required login method for Web servers. Now, I'm not going to recommend a (micro)framework here; that's up to you to choose. However, it _should_ work with any framework, even `SimpleHTTPServer` (or `http.server` for Pythonthreestas).\r\n\r\n```Python\r\n... various server code to receive and interpret query, but I'll provide an (extremely simplified) example.\r\n>>> token_code = list(query.items())[0][0]\r\n>>> fs.oauth_code_login(token_code)\r\n```\r\n\r\n### Now that we're logged in\r\n\r\nNow, this guide isn't designed to be a comprehensive list as to every function that is available in this SDK, but a basic comprehension of JSON (more specifically, GEDCOMX's JSON, and, even more specifically, the FamilySearch variant) is needed. So, I'll provide two samples: a simple GET function, and a simple POST function\r\n\r\n### Read a person\r\n\r\n```Python\r\n>>> fs.get_person(PPPJ-MYZ)\r\n{\r\n  \"persons\" : [ {\r\n    \"id\" : \"PPPJ-MYZ\",\r\n    \"links\" : {\r\n      \"spouses\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/spouses\"\r\n      },\r\n      \"ancestry\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/ancestry?person=PPPJ-MYZ\"\r\n      },\r\n      \"person\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ\"\r\n      },\r\n      \"parents\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/parents\"\r\n      },\r\n      \"person-with-relationships\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons-with-relationships?person=PPPJ-MYZ\"\r\n      },\r\n      \"descendancy\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/descendancy?person=PPPJ-MYZ\"\r\n      },\r\n      \"discussion-references\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/discussion-references\"\r\n      },\r\n      \"merge\" : {\r\n        \"template\" : \"https://familysearch.org/platform/tree/persons/{pid}/merges/{dpid}{?filter,access_token}\",\r\n        \"type\" : \"application/json,application/x-fs-v1+json,application/x-fs-v1+xml,application/xml,text/html\",\r\n        \"accept\" : \"application/x-fs-v1+json,application/x-fs-v1+xml\",\r\n        \"allow\" : \"GET,OPTIONS,POST\",\r\n        \"title\" : \"Person Merge\"\r\n      },\r\n      \"change-history\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/changes\"\r\n      },\r\n      \"children\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/children\"\r\n      },\r\n      \"evidence-references\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/memory-references\"\r\n      },\r\n      \"spouse-relationships\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/spouse-relationships\"\r\n      },\r\n      \"child-relationships\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/child-relationships\"\r\n      },\r\n      \"collection\" : {\r\n        \"href\" : \"https://familysearch.org/platform/collections/tree\"\r\n      },\r\n      \"portrait\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/portrait\"\r\n      },\r\n      \"parent-relationships\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/parent-relationships\"\r\n      },\r\n      \"artifacts\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/memories\"\r\n      },\r\n      \"source-references\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/source-references\"\r\n      },\r\n      \"matches\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/matches\"\r\n      },\r\n      \"non-matches\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/not-a-match\"\r\n      },\r\n      \"portraits\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/portraits\"\r\n      },\r\n      \"notes\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/notes\"\r\n      },\r\n      \"source-descriptions\" : {\r\n        \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/sources\"\r\n      }\r\n    },\r\n    \"attribution\" : {\r\n      \"changeMessage\" : \"wikipedia knows\"\r\n    },\r\n    \"identifiers\" : {\r\n      \"http://gedcomx.org/Persistent\" : [ \"https://familysearch.org/ark:/61903/4:1:PPPJ-MYZ\" ]\r\n    },\r\n    \"living\" : true,\r\n    \"gender\" : {\r\n      \"type\" : \"http://gedcomx.org/Male\"\r\n    },\r\n    \"names\" : [ {\r\n      \"id\" : \"name-id\",\r\n      \"links\" : {\r\n        \"conclusion\" : {\r\n          \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/conclusions/name-id\"\r\n        }\r\n      },\r\n      \"attribution\" : {\r\n        \"contributor\" : {\r\n          \"resource\" : \"urn:name-attribution\",\r\n          \"resourceId\" : \"KNCV-RMZ\"\r\n        }\r\n      },\r\n      \"type\" : \"http://gedcomx.org/BirthName\",\r\n      \"nameForms\" : [ {\r\n        \"fullText\" : \"Alex Aleksandrova\",\r\n        \"parts\" : [ {\r\n          \"type\" : \"http://gedcomx.org/Given\",\r\n          \"value\" : \"Alex\"\r\n        }, {\r\n          \"type\" : \"http://gedcomx.org/Surname\",\r\n          \"value\" : \"Aleksandrova\"\r\n        } ]\r\n      }, {\r\n        \"fullText\" : \"Анастасия Александрова\",\r\n        \"parts\" : [ {\r\n          \"type\" : \"http://gedcomx.org/Given\",\r\n          \"value\" : \"Анастасия\"\r\n        }, {\r\n          \"type\" : \"http://gedcomx.org/Surname\",\r\n          \"value\" : \"Александрова\"\r\n        } ]\r\n      } ],\r\n      \"preferred\" : true\r\n    } ],\r\n    \"facts\" : [ {\r\n      \"id\" : \"born\",\r\n      \"links\" : {\r\n        \"conclusion\" : {\r\n          \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/conclusions/born\"\r\n        }\r\n      },\r\n      \"attribution\" : {\r\n        \"contributor\" : {\r\n          \"resource\" : \"urn:fact-attribution\",\r\n          \"resourceId\" : \"RMQW-LPK\"\r\n        }\r\n      },\r\n      \"type\" : \"http://gedcomx.org/Birth\",\r\n      \"date\" : {\r\n        \"original\" : \"3 Apr 1836\",\r\n        \"formal\" : \"+1836\"\r\n      },\r\n      \"place\" : {\r\n        \"original\" : \"Moscow, Russia\"\r\n      }\r\n    }, {\r\n      \"id\" : \"res\",\r\n      \"links\" : {\r\n        \"conclusion\" : {\r\n          \"href\" : \"https://familysearch.org/platform/tree/persons/PPPJ-MYZ/conclusions/res\"\r\n        }\r\n      },\r\n      \"attribution\" : {\r\n        \"contributor\" : {\r\n          \"resource\" : \"https://familysearch.org/platform/users/agents/JNYR-KJP\",\r\n          \"resourceId\" : \"JNYR-KJP\"\r\n        }\r\n      },\r\n      \"type\" : \"http://gedcomx.org/Residence\",\r\n      \"date\" : {\r\n        \"original\" : \"13 Apr 1836\",\r\n        \"formal\" : \"+1836-04-13\"\r\n      },\r\n      \"place\" : {\r\n        \"original\" : \"Moscow, Russia\",\r\n        \"description\" : \"#-1276974106\",\r\n        \"normalized\" : [ {\r\n          \"value\" : \"Moskva, Moscow, Russia\"\r\n        } ]\r\n      }\r\n    } ],\r\n    \"display\" : {\r\n      \"name\" : \"Alex Aleksandrova\",\r\n      \"gender\" : \"Male\",\r\n      \"lifespan\" : \"3 Apr 1836 - Dead\",\r\n      \"birthDate\" : \"3 Apr 1836\",\r\n      \"birthPlace\" : \"Moscow, Russia\"\r\n    }\r\n  } ],\r\n  \"sourceDescriptions\" : [ {\r\n    \"id\" : \"SD-PPPJ-MYZ\",\r\n    \"citations\" : [ {\r\n      \"lang\" : \"en\",\r\n      \"value\" : \"\\\"Family Tree,\\\" database, <i>FamilySearch</i> (http://familysearch.org : modified 02 December 2014, 15:57), entry for Alex Aleksandrova(PID https://familysearch.org/ark:/61903/4:1:PPPJ-MYZ); contributed by various users.\"\r\n    } ],\r\n    \"about\" : \"#PPPJ-MYZ\",\r\n    \"componentOf\" : {\r\n      \"description\" : \"https://familysearch.org/platform/collections/tree\"\r\n    },\r\n    \"titles\" : [ {\r\n      \"value\" : \"Alex Aleksandrova\"\r\n    } ],\r\n    \"resourceType\" : \"http://gedcomx.org/Person\",\r\n    \"identifiers\" : {\r\n      \"http://gedcomx.org/Persistent\" : [ \"https://familysearch.org/ark:/61903/4:1:PPPJ-MYZ\" ]\r\n    },\r\n    \"modified\" : 1417561053000\r\n  } ],\r\n  \"places\" : [ {\r\n    \"id\" : \"-1276974106\",\r\n    \"names\" : [ {\r\n      \"value\" : \"Moskva, Moscow, Russia\"\r\n    } ],\r\n    \"latitude\" : 37.613983,\r\n    \"longitude\" : 55.784296\r\n  } ],\r\n  \"description\" : \"#SD-PPPJ-MYZ\"\r\n}\r\n```\r\n\r\n### Create a person\r\n```Python\r\n>>> new_guy = \r\n... {\r\n...   \"persons\" : [ {\r\n...     \"living\" : false,\r\n...     \"gender\" : {\r\n...       \"attribution\" : {\r\n...         \"changeMessage\" : \"...change message...\"\r\n...       },\r\n...       \"type\" : \"http://gedcomx.org/Female\"\r\n...     },\r\n...     \"names\" : [ {\r\n...       \"attribution\" : {\r\n...         \"changeMessage\" : \"...change message...\"\r\n...       },\r\n...       \"type\" : \"http://gedcomx.org/BirthName\",\r\n...       \"nameForms\" : [ {\r\n...         \"fullText\" : \"Anastasia Aleksandrova\",\r\n...         \"parts\" : [ {\r\n...           \"type\" : \"http://gedcomx.org/Given\",\r\n...           \"value\" : \"Anastasia\"\r\n...         }, {\r\n...           \"type\" : \"http://gedcomx.org/Surname\",\r\n...           \"value\" : \"Aleksandrova\"\r\n...         } ]\r\n...       }, {\r\n...         \"fullText\" : \"Анастасия Александрова\",\r\n...         \"parts\" : [ {\r\n...           \"type\" : \"http://gedcomx.org/Given\",\r\n...           \"value\" : \"Анастасия\"\r\n...         }, {\r\n...           \"type\" : \"http://gedcomx.org/Surname\",\r\n...           \"value\" : \"Александрова\"\r\n...         } ]\r\n...       } ],\r\n...       \"preferred\" : true\r\n...     } ],\r\n...     \"facts\" : [ {\r\n...       \"attribution\" : {\r\n...         \"changeMessage\" : \"...change message...\"\r\n...       },\r\n...        \"type\" : \"http://gedcomx.org/Birth\",\r\n...      \"date\" : {\r\n...         \"original\" : \"3 Apr 1836\",\r\n...         \"formal\" : \"+1836\"\r\n...       },\r\n...       \"place\" : {\r\n...         \"original\" : \"Moscow, Russia\"\r\n...       }\r\n...     }, {\r\n...       \"attribution\" : {\r\n...         \"changeMessage\" : \"...change message...\"\r\n...       },\r\n...       \"type\" : \"http://gedcomx.org/Residence\",\r\n...       \"date\" : {\r\n...         \"original\" : \"13 Apr 1836\",\r\n...         \"formal\" : \"+1836-04-13\"\r\n...       },\r\n...       \"place\" : {\r\n...         \"original\" : \"Moscow, Russia\"\r\n...       }\r\n...     } ],\r\n...     \"display\" : {\r\n...       \"name\" : \"Anastasia Aleksandrova\",\r\n...       \"gender\" : \"Female\",\r\n...       \"lifespan\" : \"3 Apr 1836 - Dead\",\r\n...       \"birthDate\" : \"3 Apr 1836\",\r\n...       \"birthPlace\" : \"Moscow, Russia\"\r\n...     }\r\n...   } ]\r\n... }\r\n...\r\n>>> fs.create_person(new_person)\r\n (Response headers. Not finalized how I'm going to lay them out.)\r\n```\r\n\r\n\r\nNote: Neither of these may reflect the current layout of FamilySearch JSON. However, the response layout should be the same as the submitting layout.\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}